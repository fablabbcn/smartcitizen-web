<div class="" ng-if="kits.length === 0">
  <small>No kits</small>
</div>

<md-list layout="row" layout-wrap>
  <md-list-item class="kitList_parent"
                ng-repeat="kit in kits track by kit.id"
                flex="100"
                flex-gt-md="50"
                layout-xs="column"
                layout-align="start center">

    <md-card flex layout-padding href="./kits/{{kit.id}}">
      <md-card-header layout="row" layout-align="start center">

        <md-card-avatar>
          <img class="kitList_avatar" ng-src="{{ kit.avatar || './assets/images/avatar.svg' }}" />
        </md-card-avatar>

        <div>
          <h4 class="m-0">{{ kit.name || 'No name' }}</h4>
          <span class="md-subhead">
            <md-icon class="icon_label" md-svg-src="./assets/images/location_icon_light.svg">
            </md-icon>
            <span>{{ kit.location || 'No location' }}</span>
            <md-icon class="icon_label" md-svg-src="./assets/images/sensor_icon.svg">
            </md-icon>
            <span>{{ kit.type || 'Unknown Kit'}}</span>
          </span>

          <div>
            <div ng-if="kit.belongProperty && (kit.state.name === 'never published' || kit.state.name === 'not configured')">
              <span class="kitList_state kitList_state_{{ kit.state.className }} state">{{ kit.state.name }}</span>
            </div>
          </div>
        </div>

      </md-card-header>

      <md-card-content class="ml-50 mt-20">
        <div layout="row" layout-align="start center" layout-wrap>
          <span class="label" ng-repeat="label in kit.labels">{{ label }}</span>
          <tag ng-repeat='tag in kit.userTags' ng-attr-tag-name="tag" clickable></tag>
        </div>
      </md-card-content>

      <md-card-actions class="ml-50">
        <md-button class="md-raised md-primary" ng-href="./kits/{{kit.id}}" >
          <md-icon md-svg-src="./assets/images/map_icon.svg"> </md-icon>
          View on map
        </md-button>

        <md-button class="md-raised md-accent md-hue-2" ng-if="kit.belongProperty" ng-repeat="item in kit.dropdownOptions" ng-href="{{item.href}}">
          {{item.text}}
        </md-button>

        <md-button class="md-raised md-accent" ng-click="actions.downloadData(kit)" ng-if="kit.belongProperty" aria-label="">
          <md-icon class="kit_detailed_icon_content" md-svg-src="./assets/images/download_icon.svg" ng-click="vm.downloadData(vm.kit)"> </md-icon>
          Download data
        </md-button>

        <md-button class="md-raised md-warn" ng-click="actions.remove(kit.id)" ng-if="kit.belongProperty" aria-label="">
          <md-icon md-svg-src="./assets/images/delete_icon.svg"></md-icon>
          DELETE
        </md-button>
     </md-card-actions>
    </md-card>

  </md-list-item>
</md-list>
